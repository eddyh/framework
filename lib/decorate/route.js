"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PUT = exports.POST = exports.PATCH = exports.DELETE = exports.GET = undefined;
exports.route = route;
exports.mount = mount;

var _routerify = require("./util/routerify");

var _routerify2 = _interopRequireDefault(_routerify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function route(pattern, { method }) {
  return (object, key, descriptor) => {
    if (!descriptor) throw new TypeError("Property expected");
    descriptor.enumerable = true;
    (0, _routerify2.default)(object).define(method, pattern, descriptor.value);
    return descriptor;
  };
}
function mount(pattern, controller) {
  return object => {
    const router = (0, _routerify2.default)(controller.prototype);
    (0, _routerify2.default)(object.prototype).mount(pattern, router);
  };
}

function defineMethod(method) {
  return pattern => route(pattern, { method });
}

const GET = exports.GET = defineMethod("GET");
const DELETE = exports.DELETE = defineMethod("DELETE");
const PATCH = exports.PATCH = defineMethod("PATCH");
const POST = exports.POST = defineMethod("POST");
const PUT = exports.PUT = defineMethod("PUT");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZWNvcmF0ZS9yb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZSIsIm1vdW50IiwicGF0dGVybiIsIm1ldGhvZCIsIm9iamVjdCIsImtleSIsImRlc2NyaXB0b3IiLCJUeXBlRXJyb3IiLCJlbnVtZXJhYmxlIiwiZGVmaW5lIiwidmFsdWUiLCJjb250cm9sbGVyIiwicm91dGVyIiwicHJvdG90eXBlIiwiZGVmaW5lTWV0aG9kIiwiR0VUIiwiREVMRVRFIiwiUEFUQ0giLCJQT1NUIiwiUFVUIl0sIm1hcHBpbmdzIjoiOzs7Ozs7UUFPZ0JBLEssR0FBQUEsSztRQVNBQyxLLEdBQUFBLEs7O0FBZmhCOzs7Ozs7QUFNTyxTQUFTRCxLQUFULENBQWVFLE9BQWYsRUFBZ0MsRUFBQ0MsTUFBRCxFQUFoQyxFQUFtRTtBQUN4RSxTQUFPLENBQUNDLE1BQUQsRUFBaUJDLEdBQWpCLEVBQStCQyxVQUEvQixLQUEyRTtBQUNoRixRQUFJLENBQUNBLFVBQUwsRUFBaUIsTUFBTSxJQUFJQyxTQUFKLENBQWMsbUJBQWQsQ0FBTjtBQUNqQkQsZUFBV0UsVUFBWCxHQUF3QixJQUF4QjtBQUNBLDZCQUFVSixNQUFWLEVBQWtCSyxNQUFsQixDQUF5Qk4sTUFBekIsRUFBaUNELE9BQWpDLEVBQTBDSSxXQUFXSSxLQUFyRDtBQUNBLFdBQU9KLFVBQVA7QUFDRCxHQUxEO0FBTUQ7QUFFTSxTQUFTTCxLQUFULENBQWVDLE9BQWYsRUFBZ0NTLFVBQWhDLEVBQW9EO0FBQ3pELFNBQVFQLE1BQUQsSUFBb0I7QUFDekIsVUFBTVEsU0FBUyx5QkFBVUQsV0FBV0UsU0FBckIsQ0FBZjtBQUNBLDZCQUFVVCxPQUFPUyxTQUFqQixFQUE0QlosS0FBNUIsQ0FBa0NDLE9BQWxDLEVBQTJDVSxNQUEzQztBQUNELEdBSEQ7QUFJRDs7QUFFRCxTQUFTRSxZQUFULENBQXNCWCxNQUF0QixFQUE4QjtBQUM1QixTQUFRRCxPQUFELElBQXFCRixNQUFNRSxPQUFOLEVBQWUsRUFBQ0MsTUFBRCxFQUFmLENBQTVCO0FBQ0Q7O0FBRU0sTUFBTVksb0JBQU1ELGFBQWEsS0FBYixDQUFaO0FBQ0EsTUFBTUUsMEJBQVNGLGFBQWEsUUFBYixDQUFmO0FBQ0EsTUFBTUcsd0JBQVFILGFBQWEsT0FBYixDQUFkO0FBQ0EsTUFBTUksc0JBQU9KLGFBQWEsTUFBYixDQUFiO0FBQ0EsTUFBTUssb0JBQU1MLGFBQWEsS0FBYixDQUFaIiwiZmlsZSI6InJvdXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cbmltcG9ydCByb3V0ZXJpZnkgZnJvbSBcIi4vdXRpbC9yb3V0ZXJpZnlcIlxuXG5leHBvcnQgdHlwZSBSb3V0ZU9wdGlvbnMgPSB7fFxuICBtZXRob2Q6IHN0cmluZyxcbnx9XG5cbmV4cG9ydCBmdW5jdGlvbiByb3V0ZShwYXR0ZXJuOiBzdHJpbmcsIHttZXRob2R9OiBSb3V0ZU9wdGlvbnMpOiBEZWNvcmF0b3Ige1xuICByZXR1cm4gKG9iamVjdDogT2JqZWN0LCBrZXk6ID9zdHJpbmcsIGRlc2NyaXB0b3I6ID9Qcm9wZXJ0eURlc2NyaXB0b3I8c3RyaW5nPikgPT4ge1xuICAgIGlmICghZGVzY3JpcHRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3BlcnR5IGV4cGVjdGVkXCIpXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZVxuICAgIHJvdXRlcmlmeShvYmplY3QpLmRlZmluZShtZXRob2QsIHBhdHRlcm4sIGRlc2NyaXB0b3IudmFsdWUpXG4gICAgcmV0dXJuIGRlc2NyaXB0b3JcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91bnQocGF0dGVybjogc3RyaW5nLCBjb250cm9sbGVyOiBPYmplY3QpIHtcbiAgcmV0dXJuIChvYmplY3Q6IE9iamVjdCkgPT4ge1xuICAgIGNvbnN0IHJvdXRlciA9IHJvdXRlcmlmeShjb250cm9sbGVyLnByb3RvdHlwZSlcbiAgICByb3V0ZXJpZnkob2JqZWN0LnByb3RvdHlwZSkubW91bnQocGF0dGVybiwgcm91dGVyKVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmluZU1ldGhvZChtZXRob2QpIHtcbiAgcmV0dXJuIChwYXR0ZXJuOiBzdHJpbmcpID0+IHJvdXRlKHBhdHRlcm4sIHttZXRob2R9KVxufVxuXG5leHBvcnQgY29uc3QgR0VUID0gZGVmaW5lTWV0aG9kKFwiR0VUXCIpXG5leHBvcnQgY29uc3QgREVMRVRFID0gZGVmaW5lTWV0aG9kKFwiREVMRVRFXCIpXG5leHBvcnQgY29uc3QgUEFUQ0ggPSBkZWZpbmVNZXRob2QoXCJQQVRDSFwiKVxuZXhwb3J0IGNvbnN0IFBPU1QgPSBkZWZpbmVNZXRob2QoXCJQT1NUXCIpXG5leHBvcnQgY29uc3QgUFVUID0gZGVmaW5lTWV0aG9kKFwiUFVUXCIpXG4iXX0=