"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Logger = undefined;

var _memoryConsole = require("./memory-console");

var _memoryConsole2 = _interopRequireDefault(_memoryConsole);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* https://cloud.google.com/logging/docs/reference/v2/rest/v2/LogEntry */
/* https://github.com/GoogleCloudPlatform/fluent-plugin-google-cloud/blob/master/lib/fluent/plugin/out_google_cloud.rb */
/* Note, this is actually the contents of jsonPayload, so it can contain
   arbitrary fields! */
let Logger = exports.Logger = class Logger {

  constructor(console = defaultConsole(), formatter = defaultFormatter()) {
    this.console = console;
    this.formatter = formatter;

    Object.seal(this);
  }

  write(severity, message, context = Object.seal({})) {
    const entry = {
      time: new Date(),
      message: typeof message === "object" ? JSON.stringify(message) : String(message),
      severity
    };

    this.console.log(this.formatter(Object.assign(entry, context)));
  }

  debug(message, httpRequest) {
    this.write("DEBUG", message, { httpRequest });
  }

  info(message, httpRequest) {
    this.write("INFO", message, { httpRequest });
  }

  notice(message, httpRequest) {
    this.write("NOTICE", message, { httpRequest });
  }

  warning(message, httpRequest) {
    this.write("WARNING", message, { httpRequest });
  }

  error(message, httpRequest) {
    this.write("ERROR", message, { httpRequest });
  }

  critical(message, httpRequest) {
    this.write("CRITICAL", message, { httpRequest });
  }
};
Logger.JSON = JSON.stringify;

Logger.PRETTY = entry => {
  const reset = "\x1b[0m";
  const bold = "\x1b[1m";

  const black = "\x1b[30m";
  const red = "\x1b[31m";
  const green = "\x1b[32m";
  const yellow = "\x1b[33m";
  // const blue = "\x1b[34m"

  const dateOptions = {
    year: "numeric",
    month: "short",
    day: "numeric",
    hour: "2-digit",
    minute: "2-digit",
    second: "2-digit",
    hour12: false
  };

  const styles = {
    DEBUG: black + bold,
    INFO: reset,
    NOTICE: green + bold,
    WARNING: yellow + bold,
    ERROR: red + bold,
    CRITICAL: red + bold,
    ALERT: red + bold,
    EMERGENCY: red + bold
  };

  const time = `[${entry.time.toLocaleString("en", dateOptions)}]`;

  let http = "";
  if (entry.httpRequest) {
    const { remoteIp, requestMethod, requestUrl, status, responseSize } = entry.httpRequest;
    http = `${remoteIp || "unknown"} - ${requestMethod.toUpperCase()} ${requestUrl} ${status} ${responseSize} - `;
  }

  return `${time} ${styles[entry.severity]}${http}${entry.message}${reset}`;
};

function defaultFormatter() {
  return process.env.NODE_ENV === "development" ? Logger.PRETTY : Logger.JSON;
}

function defaultConsole() {
  return process.env.NODE_ENV === "test" ? new _memoryConsole2.default() : console;
}

exports.default = Logger;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2xvZ2dlci5qcyJdLCJuYW1lcyI6WyJMb2dnZXIiLCJjb25zdHJ1Y3RvciIsImNvbnNvbGUiLCJkZWZhdWx0Q29uc29sZSIsImZvcm1hdHRlciIsImRlZmF1bHRGb3JtYXR0ZXIiLCJPYmplY3QiLCJzZWFsIiwid3JpdGUiLCJzZXZlcml0eSIsIm1lc3NhZ2UiLCJjb250ZXh0IiwiZW50cnkiLCJ0aW1lIiwiRGF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJTdHJpbmciLCJsb2ciLCJhc3NpZ24iLCJkZWJ1ZyIsImh0dHBSZXF1ZXN0IiwiaW5mbyIsIm5vdGljZSIsIndhcm5pbmciLCJlcnJvciIsImNyaXRpY2FsIiwiUFJFVFRZIiwicmVzZXQiLCJib2xkIiwiYmxhY2siLCJyZWQiLCJncmVlbiIsInllbGxvdyIsImRhdGVPcHRpb25zIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInNlY29uZCIsImhvdXIxMiIsInN0eWxlcyIsIkRFQlVHIiwiSU5GTyIsIk5PVElDRSIsIldBUk5JTkciLCJFUlJPUiIsIkNSSVRJQ0FMIiwiQUxFUlQiLCJFTUVSR0VOQ1kiLCJ0b0xvY2FsZVN0cmluZyIsImh0dHAiLCJyZW1vdGVJcCIsInJlcXVlc3RNZXRob2QiLCJyZXF1ZXN0VXJsIiwic3RhdHVzIiwicmVzcG9uc2VTaXplIiwidG9VcHBlckNhc2UiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7Ozs7O0FBd0JBO0FBQ0E7QUFDQTs7SUFhYUEsTSxXQUFBQSxNLEdBQU4sTUFBTUEsTUFBTixDQUFhOztBQWdEbEJDLGNBQVlDLFVBQTJCQyxnQkFBdkMsRUFBeURDLFlBQWdDQyxrQkFBekYsRUFBNkc7QUFDM0csU0FBS0gsT0FBTCxHQUFlQSxPQUFmO0FBQ0EsU0FBS0UsU0FBTCxHQUFpQkEsU0FBakI7O0FBRUFFLFdBQU9DLElBQVAsQ0FBWSxJQUFaO0FBQ0Q7O0FBRURD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QUFkLEVBQTRCLElBQUdILFVBQVcsSUFBR0MsTUFBTyxJQUFHQyxZQUFhLEtBQXpHO0FBQ0Q7O0FBRUQsU0FBUSxHQUFFNUMsSUFBSyxJQUFHNkIsT0FBTzlCLE1BQU1ILFFBQWIsQ0FBdUIsR0FBRTJDLElBQUssR0FBRXhDLE1BQU1GLE9BQVEsR0FBRWtCLEtBQU0sRUFBeEU7QUFDRCxDOztBQTRDSCxTQUFTdkIsZ0JBQVQsR0FBNEI7QUFDMUIsU0FBT3NELFFBQVFDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixhQUF6QixHQUF5QzdELE9BQU8yQixNQUFoRCxHQUF5RDNCLE9BQU9lLElBQXZFO0FBQ0Q7O0FBRUQsU0FBU1osY0FBVCxHQUEwQjtBQUN4QixTQUFPd0QsUUFBUUMsR0FBUixDQUFZQyxRQUFaLEtBQXlCLE1BQXpCLEdBQWtDLDZCQUFsQyxHQUFzRDNELE9BQTdEO0FBQ0Q7O2tCQUVjRixNIiwiZmlsZSI6ImxvZ2dlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5pbXBvcnQgTWVtb3J5Q29uc29sZSBmcm9tIFwiLi9tZW1vcnktY29uc29sZVwiXG5cbmV4cG9ydCB0eXBlIEh0dHBSZXF1ZXN0ID0ge3xcbiAgcmVxdWVzdE1ldGhvZDogc3RyaW5nLFxuICByZXF1ZXN0VXJsOiBzdHJpbmcsXG4gIHJlcXVlc3RTaXplOiBudW1iZXIsXG4gIHN0YXR1czogbnVtYmVyLFxuICByZXNwb25zZVNpemU6IG51bWJlcixcbiAgdXNlckFnZW50Pzogc3RyaW5nLFxuICByZW1vdGVJcD86IHN0cmluZyxcbiAgcmVmZXJlcj86IHN0cmluZyxcbiAgbGF0ZW5jeT86IHN0cmluZyxcbiAgY2FjaGVIaXQ/OiBib29sZWFuLFxuICBjYWNoZVZhbGlkYXRlZFdpdGhPcmlnaW5TZXJ2ZXI/OiBib29sZWFuLFxufH1cblxuZXhwb3J0IHR5cGUgUmVwb3J0TG9jYXRpb24gPSB7fFxuICBmaWxlUGF0aD86IHN0cmluZyxcbiAgbGluZU51bWJlcj86IG51bWJlcixcbiAgZnVuY3Rpb25OYW1lPzogc3RyaW5nLFxufH1cblxuZXhwb3J0IHR5cGUgTG9nU2V2ZXJpdHkgPSBcIkRFQlVHXCIgfCBcIklORk9cIiB8IFwiTk9USUNFXCIgfCBcIldBUk5JTkdcIiB8IFwiRVJST1JcIiB8IFwiQ1JJVElDQUxcIiB8IFwiQUxFUlRcIiB8IFwiRU1FUkdFTkNZXCJcblxuLyogaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2xvZ2dpbmcvZG9jcy9yZWZlcmVuY2UvdjIvcmVzdC92Mi9Mb2dFbnRyeSAqL1xuLyogaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNsb3VkUGxhdGZvcm0vZmx1ZW50LXBsdWdpbi1nb29nbGUtY2xvdWQvYmxvYi9tYXN0ZXIvbGliL2ZsdWVudC9wbHVnaW4vb3V0X2dvb2dsZV9jbG91ZC5yYiAqL1xuLyogTm90ZSwgdGhpcyBpcyBhY3R1YWxseSB0aGUgY29udGVudHMgb2YganNvblBheWxvYWQsIHNvIGl0IGNhbiBjb250YWluXG4gICBhcmJpdHJhcnkgZmllbGRzISAqL1xuZXhwb3J0IHR5cGUgTG9nRW50cnkgPSB7fFxuICB0aW1lOiBEYXRlLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIHNldmVyaXR5OiBMb2dTZXZlcml0eSxcbiAgaHR0cFJlcXVlc3Q/OiBIdHRwUmVxdWVzdCxcbnx9XG5cbnR5cGUgTG9nQ29udGV4dCA9IHt8XG4gIGh0dHBSZXF1ZXN0PzogSHR0cFJlcXVlc3QsXG58fVxuXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgY29uc29sZTogY29uc29sZS5Db25zb2xlXG4gIGZvcm1hdHRlcjogTG9nRW50cnkgPT4gc3RyaW5nXG5cbiAgc3RhdGljIEpTT04gPSBKU09OLnN0cmluZ2lmeVxuXG4gIHN0YXRpYyBQUkVUVFkgPSAoZW50cnk6IExvZ0VudHJ5KSA9PiB7XG4gICAgY29uc3QgcmVzZXQgPSBcIlxceDFiWzBtXCJcbiAgICBjb25zdCBib2xkID0gXCJcXHgxYlsxbVwiXG5cbiAgICBjb25zdCBibGFjayA9IFwiXFx4MWJbMzBtXCJcbiAgICBjb25zdCByZWQgPSBcIlxceDFiWzMxbVwiXG4gICAgY29uc3QgZ3JlZW4gPSBcIlxceDFiWzMybVwiXG4gICAgY29uc3QgeWVsbG93ID0gXCJcXHgxYlszM21cIlxuICAgIC8vIGNvbnN0IGJsdWUgPSBcIlxceDFiWzM0bVwiXG5cbiAgICBjb25zdCBkYXRlT3B0aW9ucyA9IHtcbiAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgbW9udGg6IFwic2hvcnRcIixcbiAgICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgICBob3VyOiBcIjItZGlnaXRcIixcbiAgICAgIG1pbnV0ZTogXCIyLWRpZ2l0XCIsXG4gICAgICBzZWNvbmQ6IFwiMi1kaWdpdFwiLFxuICAgICAgaG91cjEyOiBmYWxzZSxcbiAgICB9XG5cbiAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICBERUJVRzogYmxhY2sgKyBib2xkLFxuICAgICAgSU5GTzogcmVzZXQsXG4gICAgICBOT1RJQ0U6IGdyZWVuICsgYm9sZCxcbiAgICAgIFdBUk5JTkc6IHllbGxvdyArIGJvbGQsXG4gICAgICBFUlJPUjogcmVkICsgYm9sZCxcbiAgICAgIENSSVRJQ0FMOiByZWQgKyBib2xkLFxuICAgICAgQUxFUlQ6IHJlZCArIGJvbGQsXG4gICAgICBFTUVSR0VOQ1k6IHJlZCArIGJvbGQsXG4gICAgfVxuXG4gICAgY29uc3QgdGltZSA9IGBbJHtlbnRyeS50aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW5cIiwgZGF0ZU9wdGlvbnMpfV1gXG5cbiAgICBsZXQgaHR0cCA9IFwiXCJcbiAgICBpZiAoZW50cnkuaHR0cFJlcXVlc3QpIHtcbiAgICAgIGNvbnN0IHtyZW1vdGVJcCwgcmVxdWVzdE1ldGhvZCwgcmVxdWVzdFVybCwgc3RhdHVzLCByZXNwb25zZVNpemV9ID0gZW50cnkuaHR0cFJlcXVlc3RcbiAgICAgIGh0dHAgPSBgJHtyZW1vdGVJcCB8fCBcInVua25vd25cIn0gLSAke3JlcXVlc3RNZXRob2QudG9VcHBlckNhc2UoKX0gJHtyZXF1ZXN0VXJsfSAke3N0YXR1c30gJHtyZXNwb25zZVNpemV9IC0gYFxuICAgIH1cblxuICAgIHJldHVybiBgJHt0aW1lfSAke3N0eWxlc1tlbnRyeS5zZXZlcml0eV19JHtodHRwfSR7ZW50cnkubWVzc2FnZX0ke3Jlc2V0fWBcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGNvbnNvbGU6IGNvbnNvbGUuQ29uc29sZSA9IGRlZmF1bHRDb25zb2xlKCksIGZvcm1hdHRlcjogTG9nRW50cnkgPT4gc3RyaW5nID0gZGVmYXVsdEZvcm1hdHRlcigpKSB7XG4gICAgdGhpcy5jb25zb2xlID0gY29uc29sZVxuICAgIHRoaXMuZm9ybWF0dGVyID0gZm9ybWF0dGVyXG5cbiAgICBPYmplY3Quc2VhbCh0aGlzKVxuICB9XG5cbiAgd3JpdGUoc2V2ZXJpdHk6IExvZ1NldmVyaXR5LCBtZXNzYWdlOiBtaXhlZCwgY29udGV4dDogTG9nQ29udGV4dCA9IE9iamVjdC5zZWFsKHt9KSkge1xuICAgIGNvbnN0IGVudHJ5OiBMb2dFbnRyeSA9IHtcbiAgICAgIHRpbWU6IG5ldyBEYXRlLFxuICAgICAgbWVzc2FnZTogdHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSA6IFN0cmluZyhtZXNzYWdlKSxcbiAgICAgIHNldmVyaXR5LFxuICAgIH1cblxuICAgIHRoaXMuY29uc29sZS5sb2codGhpcy5mb3JtYXR0ZXIoT2JqZWN0LmFzc2lnbihlbnRyeSwgY29udGV4dCkpKVxuICB9XG5cbiAgZGVidWcobWVzc2FnZTogbWl4ZWQsIGh0dHBSZXF1ZXN0OiBIdHRwUmVxdWVzdCB8IHZvaWQpIHtcbiAgICB0aGlzLndyaXRlKFwiREVCVUdcIiwgbWVzc2FnZSwge2h0dHBSZXF1ZXN0fSlcbiAgfVxuXG4gIGluZm8obWVzc2FnZTogbWl4ZWQsIGh0dHBSZXF1ZXN0OiBIdHRwUmVxdWVzdCB8IHZvaWQpIHtcbiAgICB0aGlzLndyaXRlKFwiSU5GT1wiLCBtZXNzYWdlLCB7aHR0cFJlcXVlc3R9KVxuICB9XG5cbiAgbm90aWNlKG1lc3NhZ2U6IG1peGVkLCBodHRwUmVxdWVzdDogSHR0cFJlcXVlc3QgfCB2b2lkKSB7XG4gICAgdGhpcy53cml0ZShcIk5PVElDRVwiLCBtZXNzYWdlLCB7aHR0cFJlcXVlc3R9KVxuICB9XG5cbiAgd2FybmluZyhtZXNzYWdlOiBtaXhlZCwgaHR0cFJlcXVlc3Q6IEh0dHBSZXF1ZXN0IHwgdm9pZCkge1xuICAgIHRoaXMud3JpdGUoXCJXQVJOSU5HXCIsIG1lc3NhZ2UsIHtodHRwUmVxdWVzdH0pXG4gIH1cblxuICBlcnJvcihtZXNzYWdlOiBtaXhlZCwgaHR0cFJlcXVlc3Q6IEh0dHBSZXF1ZXN0IHwgdm9pZCkge1xuICAgIHRoaXMud3JpdGUoXCJFUlJPUlwiLCBtZXNzYWdlLCB7aHR0cFJlcXVlc3R9KVxuICB9XG5cbiAgY3JpdGljYWwobWVzc2FnZTogbWl4ZWQsIGh0dHBSZXF1ZXN0OiBIdHRwUmVxdWVzdCB8IHZvaWQpIHtcbiAgICB0aGlzLndyaXRlKFwiQ1JJVElDQUxcIiwgbWVzc2FnZSwge2h0dHBSZXF1ZXN0fSlcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0Rm9ybWF0dGVyKCkge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiA/IExvZ2dlci5QUkVUVFkgOiBMb2dnZXIuSlNPTlxufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29uc29sZSgpIHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInRlc3RcIiA/IG5ldyBNZW1vcnlDb25zb2xlIDogY29uc29sZVxufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXJcbiJdfQ==