"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = requireHost;

var _errors = require("../errors");

/* eslint-disable no-unused-expressions */
function requireHost(...hosts) {
  return function requireHost(next) {
    this;

    const host = this.request.headers.host;

    if (hosts.includes(host)) return next();

    throw new _errors.NotFound("Endpoint does not exist");
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlL3JlcXVpcmUtaG9zdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlSG9zdCIsImhvc3RzIiwibmV4dCIsImhvc3QiLCJyZXF1ZXN0IiwiaGVhZGVycyIsImluY2x1ZGVzIiwiTm90Rm91bmQiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQU13QkEsVzs7QUFGeEI7O0FBSEE7QUFLZSxTQUFTQSxXQUFULENBQXFCLEdBQUdDLEtBQXhCLEVBQXFEO0FBQ2xFLFNBQU8sU0FBU0QsV0FBVCxDQUFxQkUsSUFBckIsRUFBaUM7QUFDckMsUUFBRDs7QUFFQSxVQUFNQyxPQUFlLEtBQUtDLE9BQUwsQ0FBYUMsT0FBYixDQUFxQkYsSUFBMUM7O0FBRUEsUUFBSUYsTUFBTUssUUFBTixDQUFlSCxJQUFmLENBQUosRUFBMEIsT0FBT0QsTUFBUDs7QUFFMUIsVUFBTSxJQUFJSyxnQkFBSixDQUFhLHlCQUFiLENBQU47QUFDRCxHQVJEO0FBU0QiLCJmaWxlIjoicmVxdWlyZS1ob3N0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuaW1wb3J0IHR5cGUge0NvbnRleHQsIE5leHQsIE1pZGRsZXdhcmV9IGZyb20gXCIuLi9taWRkbGV3YXJlXCJcblxuaW1wb3J0IHtOb3RGb3VuZH0gZnJvbSBcIi4uL2Vycm9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVpcmVIb3N0KC4uLmhvc3RzOiBzdHJpbmdbXSk6IE1pZGRsZXdhcmUge1xuICByZXR1cm4gZnVuY3Rpb24gcmVxdWlyZUhvc3QobmV4dDogTmV4dCkge1xuICAgICh0aGlzOiBDb250ZXh0KVxuXG4gICAgY29uc3QgaG9zdDogc3RyaW5nID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnMuaG9zdFxuXG4gICAgaWYgKGhvc3RzLmluY2x1ZGVzKGhvc3QpKSByZXR1cm4gbmV4dCgpXG5cbiAgICB0aHJvdyBuZXcgTm90Rm91bmQoXCJFbmRwb2ludCBkb2VzIG5vdCBleGlzdFwiKVxuICB9XG59XG4iXX0=