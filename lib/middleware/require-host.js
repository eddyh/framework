"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = requireHost;

var _errors = require("../errors");

function requireHost(...hosts) {
  return function requireHost(next) {
    const ctx = this;
    const host = ctx.req.headers.host;

    if (hosts.includes(host)) return next();

    throw new _errors.NotFound("Endpoint does not exist");
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlL3JlcXVpcmUtaG9zdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlSG9zdCIsImhvc3RzIiwibmV4dCIsImN0eCIsImhvc3QiLCJyZXEiLCJoZWFkZXJzIiwiaW5jbHVkZXMiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUt3QkEsVzs7QUFGeEI7O0FBRWUsU0FBU0EsV0FBVCxDQUFxQixHQUFHQyxLQUF4QixFQUFxRDtBQUNsRSxTQUFPLFNBQVNELFdBQVQsQ0FBcUJFLElBQXJCLEVBQWlDO0FBQ3RDLFVBQU1DLE1BQWUsSUFBckI7QUFDQSxVQUFNQyxPQUFlRCxJQUFJRSxHQUFKLENBQVFDLE9BQVIsQ0FBZ0JGLElBQXJDOztBQUVBLFFBQUlILE1BQU1NLFFBQU4sQ0FBZUgsSUFBZixDQUFKLEVBQTBCLE9BQU9GLE1BQVA7O0FBRTFCLFVBQU0scUJBQWEseUJBQWIsQ0FBTjtBQUNELEdBUEQ7QUFRRCIsImZpbGUiOiJyZXF1aXJlLWhvc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAZmxvdyAqL1xuaW1wb3J0IHR5cGUge0NvbnRleHQsIE5leHQsIE1pZGRsZXdhcmV9IGZyb20gXCIuLi9taWRkbGV3YXJlXCJcblxuaW1wb3J0IHtOb3RGb3VuZH0gZnJvbSBcIi4uL2Vycm9yc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVpcmVIb3N0KC4uLmhvc3RzOiBzdHJpbmdbXSk6IE1pZGRsZXdhcmUge1xuICByZXR1cm4gZnVuY3Rpb24gcmVxdWlyZUhvc3QobmV4dDogTmV4dCkge1xuICAgIGNvbnN0IGN0eDogQ29udGV4dCA9IHRoaXNcbiAgICBjb25zdCBob3N0OiBzdHJpbmcgPSBjdHgucmVxLmhlYWRlcnMuaG9zdFxuXG4gICAgaWYgKGhvc3RzLmluY2x1ZGVzKGhvc3QpKSByZXR1cm4gbmV4dCgpXG5cbiAgICB0aHJvdyBuZXcgTm90Rm91bmQoXCJFbmRwb2ludCBkb2VzIG5vdCBleGlzdFwiKVxuICB9XG59XG4iXX0=