"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = requireHost;

var _errors = require("../errors");

/* eslint-disable no-unused-expressions */
function requireHost(...hosts) {
  return function requireHost(next) {
    this;

    const host = this.request.headers.host;

    if (hosts.includes(host)) return next();

    throw new _errors.NotFound("Endpoint does not exist");
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlL3JlcXVpcmUtaG9zdC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlSG9zdCIsImhvc3RzIiwibmV4dCIsImhvc3QiLCJyZXF1ZXN0IiwiaGVhZGVycyIsImluY2x1ZGVzIl0sIm1hcHBpbmdzIjoiOzs7OztrQkFNd0JBLFc7O0FBRnhCOztBQUhBO0FBS2UsU0FBU0EsV0FBVCxDQUFxQixHQUFHQyxLQUF4QixFQUFxRDtBQUNsRSxTQUFPLFNBQVNELFdBQVQsQ0FBcUJFLElBQXJCLEVBQWlDO0FBQ3JDLFFBQUQ7O0FBRUEsVUFBTUMsT0FBZSxLQUFLQyxPQUFMLENBQWFDLE9BQWIsQ0FBcUJGLElBQTFDOztBQUVBLFFBQUlGLE1BQU1LLFFBQU4sQ0FBZUgsSUFBZixDQUFKLEVBQTBCLE9BQU9ELE1BQVA7O0FBRTFCLFVBQU0scUJBQWEseUJBQWIsQ0FBTjtBQUNELEdBUkQ7QUFTRCIsImZpbGUiOiJyZXF1aXJlLWhvc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAZmxvdyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG5pbXBvcnQgdHlwZSB7Q29udGV4dCwgTmV4dCwgTWlkZGxld2FyZX0gZnJvbSBcIi4uL21pZGRsZXdhcmVcIlxuXG5pbXBvcnQge05vdEZvdW5kfSBmcm9tIFwiLi4vZXJyb3JzXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZUhvc3QoLi4uaG9zdHM6IHN0cmluZ1tdKTogTWlkZGxld2FyZSB7XG4gIHJldHVybiBmdW5jdGlvbiByZXF1aXJlSG9zdChuZXh0OiBOZXh0KSB7XG4gICAgKHRoaXM6IENvbnRleHQpXG5cbiAgICBjb25zdCBob3N0OiBzdHJpbmcgPSB0aGlzLnJlcXVlc3QuaGVhZGVycy5ob3N0XG5cbiAgICBpZiAoaG9zdHMuaW5jbHVkZXMoaG9zdCkpIHJldHVybiBuZXh0KClcblxuICAgIHRocm93IG5ldyBOb3RGb3VuZChcIkVuZHBvaW50IGRvZXMgbm90IGV4aXN0XCIpXG4gIH1cbn1cbiJdfQ==