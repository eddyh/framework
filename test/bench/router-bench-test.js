import Benchmark from "benchmark"
import Router from "../../lib/router"

import routington from "routington"

class Router2 {
  constructor() {
    this.router = routington()
  }

  define(method, route) {
    route = route.replace(/{([a-z_]+)}/g, ':$1')
    route = route.replace('*', '')
    this.router.define(route)
  }

  match(method, route) {
    return this.router.match(route)
  }
}

const router = new Router

router.define("GET", "/authorizations")
router.define("GET", "/authorizations/{id}")
router.define("POST", "/authorizations")
router.define("PUT", "/authorizations/clients/{client_id}")
router.define("PATCH", "/authorizations/{id}")
router.define("DELETE", "/authorizations/{id}")
router.define("GET", "/applications/{client_id}/tokens/{access_token}")
router.define("DELETE", "/applications/{client_id}/tokens")
router.define("DELETE", "/applications/{client_id}/tokens/{access_token}")

// Activity
router.define("GET", "/events")
router.define("GET", "/repos/{owner}/{repo}/events")
router.define("GET", "/networks/{owner}/{repo}/events")
router.define("GET", "/orgs/{org}/events")
router.define("GET", "/users/{user}/received_events")
router.define("GET", "/users/{user}/received_events/public")
router.define("GET", "/users/{user}/events")
router.define("GET", "/users/{user}/events/public")
router.define("GET", "/users/{user}/events/orgs/{org}")
router.define("GET", "/feeds")
router.define("GET", "/notifications")
router.define("GET", "/repos/{owner}/{repo}/notifications")
router.define("PUT", "/notifications")
router.define("PUT", "/repos/{owner}/{repo}/notifications")
router.define("GET", "/notifications/threads/{id}")
router.define("PATCH", "/notifications/threads/{id}")
router.define("GET", "/notifications/threads/{id}/subscription")
router.define("PUT", "/notifications/threads/{id}/subscription")
router.define("DELETE", "/notifications/threads/{id}/subscription")
router.define("GET", "/repos/{owner}/{repo}/stargazers")
router.define("GET", "/users/{user}/starred")
router.define("GET", "/user/starred")
router.define("GET", "/user/starred/{owner}/{repo}")
router.define("PUT", "/user/starred/{owner}/{repo}")
router.define("DELETE", "/user/starred/{owner}/{repo}")
router.define("GET", "/repos/{owner}/{repo}/subscribers")
router.define("GET", "/users/{user}/subscriptions")
router.define("GET", "/user/subscriptions")
router.define("GET", "/repos/{owner}/{repo}/subscription")
router.define("PUT", "/repos/{owner}/{repo}/subscription")
router.define("DELETE", "/repos/{owner}/{repo}/subscription")
router.define("GET", "/user/subscriptions/{owner}/{repo}")
router.define("PUT", "/user/subscriptions/{owner}/{repo}")
router.define("DELETE", "/user/subscriptions/{owner}/{repo}")

// Gists
router.define("GET", "/users/{user}/gists")
router.define("GET", "/gists")
router.define("GET", "/gists/public")
router.define("GET", "/gists/starred")
router.define("GET", "/gists/{id}")
router.define("POST", "/gists")
router.define("PATCH", "/gists/{id}")
router.define("PUT", "/gists/{id}/star")
router.define("DELETE", "/gists/{id}/star")
router.define("GET", "/gists/{id}/star")
router.define("POST", "/gists/{id}/forks")
router.define("DELETE", "/gists/{id}")

// Git Data
router.define("GET", "/repos/{owner}/{repo}/git/blobs/{sha}")
router.define("POST", "/repos/{owner}/{repo}/git/blobs")
router.define("GET", "/repos/{owner}/{repo}/git/commits/{sha}")
router.define("POST", "/repos/{owner}/{repo}/git/commits")
router.define("GET", "/repos/{owner}/{repo}/git/refs/*ref")
router.define("GET", "/repos/{owner}/{repo}/git/refs")
router.define("POST", "/repos/{owner}/{repo}/git/refs")
router.define("PATCH", "/repos/{owner}/{repo}/git/refs/*ref")
router.define("DELETE", "/repos/{owner}/{repo}/git/refs/*ref")
router.define("GET", "/repos/{owner}/{repo}/git/tags/{sha}")
router.define("POST", "/repos/{owner}/{repo}/git/tags")
router.define("GET", "/repos/{owner}/{repo}/git/trees/{sha}")
router.define("POST", "/repos/{owner}/{repo}/git/trees")

// Issues
router.define("GET", "/issues")
router.define("GET", "/user/issues")
router.define("GET", "/orgs/{org}/issues")
router.define("GET", "/repos/{owner}/{repo}/issues")
router.define("GET", "/repos/{owner}/{repo}/issues/{number}")
router.define("POST", "/repos/{owner}/{repo}/issues")
router.define("PATCH", "/repos/{owner}/{repo}/issues/{number}")
router.define("GET", "/repos/{owner}/{repo}/assignees")
router.define("GET", "/repos/{owner}/{repo}/assignees/{assignee}")
router.define("GET", "/repos/{owner}/{repo}/issues/{number}/comments")
router.define("GET", "/repos/{owner}/{repo}/issues/comments")
router.define("GET", "/repos/{owner}/{repo}/issues/comments/{id}")
router.define("POST", "/repos/{owner}/{repo}/issues/{number}/comments")
router.define("PATCH", "/repos/{owner}/{repo}/issues/comments/{id}")
router.define("DELETE", "/repos/{owner}/{repo}/issues/comments/{id}")
router.define("GET", "/repos/{owner}/{repo}/issues/{number}/events")
router.define("GET", "/repos/{owner}/{repo}/issues/events")
router.define("GET", "/repos/{owner}/{repo}/issues/events/{id}")
router.define("GET", "/repos/{owner}/{repo}/labels")
router.define("GET", "/repos/{owner}/{repo}/labels/{name}")
router.define("POST", "/repos/{owner}/{repo}/labels")
router.define("PATCH", "/repos/{owner}/{repo}/labels/{name}")
router.define("DELETE", "/repos/{owner}/{repo}/labels/{name}")
router.define("GET", "/repos/{owner}/{repo}/issues/{number}/labels")
router.define("POST", "/repos/{owner}/{repo}/issues/{number}/labels")
router.define("DELETE", "/repos/{owner}/{repo}/issues/{number}/labels/{name}")
router.define("PUT", "/repos/{owner}/{repo}/issues/{number}/labels")
router.define("DELETE", "/repos/{owner}/{repo}/issues/{number}/labels")
router.define("GET", "/repos/{owner}/{repo}/milestones/{number}/labels")
router.define("GET", "/repos/{owner}/{repo}/milestones")
router.define("GET", "/repos/{owner}/{repo}/milestones/{number}")
router.define("POST", "/repos/{owner}/{repo}/milestones")
router.define("PATCH", "/repos/{owner}/{repo}/milestones/{number}")
router.define("DELETE", "/repos/{owner}/{repo}/milestones/{number}")

// Miscellaneous
router.define("GET", "/emojis")
router.define("GET", "/gitignore/templates")
router.define("GET", "/gitignore/templates/{name}")
router.define("POST", "/markdown")
router.define("POST", "/markdown/raw")
router.define("GET", "/meta")
router.define("GET", "/rate_limit")

// Organizations
router.define("GET", "/users/{user}/orgs")
router.define("GET", "/user/orgs")
router.define("GET", "/orgs/{org}")
router.define("PATCH", "/orgs/{org}")
router.define("GET", "/orgs/{org}/members")
router.define("GET", "/orgs/{org}/members/{user}")
router.define("DELETE", "/orgs/{org}/members/{user}")
router.define("GET", "/orgs/{org}/public_members")
router.define("GET", "/orgs/{org}/public_members/{user}")
router.define("PUT", "/orgs/{org}/public_members/{user}")
router.define("DELETE", "/orgs/{org}/public_members/{user}")
router.define("GET", "/orgs/{org}/teams")
router.define("GET", "/teams/{id}")
router.define("POST", "/orgs/{org}/teams")
router.define("PATCH", "/teams/{id}")
router.define("DELETE", "/teams/{id}")
router.define("GET", "/teams/{id}/members")
router.define("GET", "/teams/{id}/members/{user}")
router.define("PUT", "/teams/{id}/members/{user}")
router.define("DELETE", "/teams/{id}/members/{user}")
router.define("GET", "/teams/{id}/repos")
router.define("GET", "/teams/{id}/repos/{owner}/{repo}")
router.define("PUT", "/teams/{id}/repos/{owner}/{repo}")
router.define("DELETE", "/teams/{id}/repos/{owner}/{repo}")
router.define("GET", "/user/teams")

// Pull Requests
router.define("GET", "/repos/{owner}/{repo}/pulls")
router.define("GET", "/repos/{owner}/{repo}/pulls/{number}")
router.define("POST", "/repos/{owner}/{repo}/pulls")
router.define("PATCH", "/repos/{owner}/{repo}/pulls/{number}")
router.define("GET", "/repos/{owner}/{repo}/pulls/{number}/commits")
router.define("GET", "/repos/{owner}/{repo}/pulls/{number}/files")
router.define("GET", "/repos/{owner}/{repo}/pulls/{number}/merge")
router.define("PUT", "/repos/{owner}/{repo}/pulls/{number}/merge")
router.define("GET", "/repos/{owner}/{repo}/pulls/{number}/comments")
router.define("GET", "/repos/{owner}/{repo}/pulls/comments")
router.define("GET", "/repos/{owner}/{repo}/pulls/comments/{number}")
router.define("PUT", "/repos/{owner}/{repo}/pulls/{number}/comments")
router.define("PATCH", "/repos/{owner}/{repo}/pulls/comments/{number}")
router.define("DELETE", "/repos/{owner}/{repo}/pulls/comments/{number}")

// Repositories
router.define("GET", "/user/repos")
router.define("GET", "/users/{user}/repos")
router.define("GET", "/orgs/{org}/repos")
router.define("GET", "/repositories")
router.define("POST", "/user/repos")
router.define("POST", "/orgs/{org}/repos")
router.define("GET", "/repos/{owner}/{repo}")
router.define("PATCH", "/repos/{owner}/{repo}")
router.define("GET", "/repos/{owner}/{repo}/contributors")
router.define("GET", "/repos/{owner}/{repo}/languages")
router.define("GET", "/repos/{owner}/{repo}/teams")
router.define("GET", "/repos/{owner}/{repo}/tags")
router.define("GET", "/repos/{owner}/{repo}/branches")
router.define("GET", "/repos/{owner}/{repo}/branches/{branch}")
router.define("DELETE", "/repos/{owner}/{repo}")
router.define("GET", "/repos/{owner}/{repo}/collaborators")
router.define("GET", "/repos/{owner}/{repo}/collaborators/{user}")
router.define("PUT", "/repos/{owner}/{repo}/collaborators/{user}")
router.define("DELETE", "/repos/{owner}/{repo}/collaborators/{user}")
router.define("GET", "/repos/{owner}/{repo}/comments")
router.define("GET", "/repos/{owner}/{repo}/commits/{sha}/comments")
router.define("POST", "/repos/{owner}/{repo}/commits/{sha}/comments")
router.define("GET", "/repos/{owner}/{repo}/comments/{id}")
router.define("PATCH", "/repos/{owner}/{repo}/comments/{id}")
router.define("DELETE", "/repos/{owner}/{repo}/comments/{id}")
router.define("GET", "/repos/{owner}/{repo}/commits")
router.define("GET", "/repos/{owner}/{repo}/commits/{sha}")
router.define("GET", "/repos/{owner}/{repo}/readme")
router.define("GET", "/repos/{owner}/{repo}/contents/*path")
router.define("PUT", "/repos/{owner}/{repo}/contents/*path")
router.define("DELETE", "/repos/{owner}/{repo}/contents/*path")
router.define("GET", "/repos/{owner}/{repo}/{archive_format}/{ref}")
router.define("GET", "/repos/{owner}/{repo}/keys")
router.define("GET", "/repos/{owner}/{repo}/keys/{id}")
router.define("POST", "/repos/{owner}/{repo}/keys")
router.define("PATCH", "/repos/{owner}/{repo}/keys/{id}")
router.define("DELETE", "/repos/{owner}/{repo}/keys/{id}")
router.define("GET", "/repos/{owner}/{repo}/downloads")
router.define("GET", "/repos/{owner}/{repo}/downloads/{id}")
router.define("DELETE", "/repos/{owner}/{repo}/downloads/{id}")
router.define("GET", "/repos/{owner}/{repo}/forks")
router.define("POST", "/repos/{owner}/{repo}/forks")
router.define("GET", "/repos/{owner}/{repo}/hooks")
router.define("GET", "/repos/{owner}/{repo}/hooks/{id}")
router.define("POST", "/repos/{owner}/{repo}/hooks")
router.define("PATCH", "/repos/{owner}/{repo}/hooks/{id}")
router.define("POST", "/repos/{owner}/{repo}/hooks/{id}/tests")
router.define("DELETE", "/repos/{owner}/{repo}/hooks/{id}")
router.define("POST", "/repos/{owner}/{repo}/merges")
router.define("GET", "/repos/{owner}/{repo}/releases")
router.define("GET", "/repos/{owner}/{repo}/releases/{id}")
router.define("POST", "/repos/{owner}/{repo}/releases")
router.define("PATCH", "/repos/{owner}/{repo}/releases/{id}")
router.define("DELETE", "/repos/{owner}/{repo}/releases/{id}")
router.define("GET", "/repos/{owner}/{repo}/releases/{id}/assets")
router.define("GET", "/repos/{owner}/{repo}/stats/contributors")
router.define("GET", "/repos/{owner}/{repo}/stats/commit_activity")
router.define("GET", "/repos/{owner}/{repo}/stats/code_frequency")
router.define("GET", "/repos/{owner}/{repo}/stats/participation")
router.define("GET", "/repos/{owner}/{repo}/stats/punch_card")
router.define("GET", "/repos/{owner}/{repo}/statuses/{ref}")
router.define("POST", "/repos/{owner}/{repo}/statuses/{ref}")

// Search
router.define("GET", "/search/repositories")
router.define("GET", "/search/code")
router.define("GET", "/search/issues")
router.define("GET", "/search/users")
router.define("GET", "/legacy/issues/search/{owner}/{repository}/{state}/{keyword}")
router.define("GET", "/legacy/repos/search/{keyword}")
router.define("GET", "/legacy/user/search/{keyword}")
router.define("GET", "/legacy/user/email/{email}")

// Users
router.define("GET", "/users/{user}")
router.define("GET", "/user")
router.define("PATCH", "/user")
router.define("GET", "/users")
router.define("GET", "/user/emails")
router.define("POST", "/user/emails")
router.define("DELETE", "/user/emails")
router.define("GET", "/users/{user}/followers")
router.define("GET", "/user/followers")
router.define("GET", "/users/{user}/following")
router.define("GET", "/user/following")
router.define("GET", "/user/following/{user}")
router.define("GET", "/users/{user}/following/{target_user}")
router.define("PUT", "/user/following/{user}")
router.define("DELETE", "/user/following/{user}")
router.define("GET", "/users/{user}/keys")
router.define("GET", "/user/keys")
router.define("GET", "/user/keys/{id}")
router.define("POST", "/user/keys")
router.define("PATCH", "/user/keys/{id}")
router.define("DELETE", "/user/keys/{id}")

console.log(
  router.match("get", "/repos/tinify/wordpres-plugin/downloads")
)

for (const i = 0; i < 100; i++) {
  router.match("get", "/repos/tinify/wordpres-plugin/downloads")
}

// const suite = new Benchmark.Suite
// suite.add("router match", function() {
//   // console.log(
//   router.match("get", "/repos/tinify/wordpres-plugin/downloads")
//   // )
// })
//
// suite.on("cycle", function(event) {
//   console.log(String(event.target))
// })
//
// suite.on("complete", function() {
//   console.log(this.filter("fastest").map("name"))
// })
//
// suite.run({async: true})
